---
import PageLayout from '@/layouts/PageLayout.astro';
import { Card } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Code, Cpu, Brain, Database, ArrowRight, Github, Zap, BookOpen, Star } from 'lucide-react';

// Add preload hints
const preloads = [
    { href: '/fonts/your-font.woff2', as: 'font', type: 'font/woff2', crossorigin: true },
    { href: '/critical.css', as: 'style' },
];

// Meta data
const meta = {
    title: 'Mazhar Lab - Computer Science Reference',
    description: 'A comprehensive computer science reference implemented in C++/WebAssembly. Learn algorithms, data structures, systems, and more with interactive examples.',
    keywords: 'computer science, algorithms, data structures, C++, WebAssembly, interactive learning',
};
---

<PageLayout meta={meta}>
    {/* Skip Link for Accessibility */}
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-background px-4 py-2 rounded-md">
        Skip to main content
    </a>

    <div class="mx-auto space-y-12" id="main-content">
        {/* Hero Section */}
        <section 
            class="relative overflow-hidden rounded-lg border bg-background px-6 py-12 shadow-lg"
        >
            <div class="">
                <div class="space-y-4">
                    <div class="flex items-center gap-2">
                        <h1 class="bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text text-4xl font-bold text-transparent sm:text-5xl animate-fade-in">
                            Mazhar Lab
                        </h1>
                        <Badge variant="outline" className="animate-fade-in [--animation-delay:200ms]">Beta</Badge>
                        <div class="flex items-center gap-2 ml-auto animate-fade-in [--animation-delay:300ms]">
                            <a 
                                href="https://github.com/mazharmorshed/mazhar-lab"
                                target="_blank"
                                rel="noopener noreferrer"
                                class="inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors"
                            >
                                <Star className="h-4 w-4" />
                                <span>Star</span>
                                <Badge variant="secondary" className="text-xs">120+</Badge>
                            </a>
                        </div>
                    </div>
                    <p class="text-xl text-muted-foreground max-w-2xl animate-fade-in [--animation-delay:400ms]">
                        A comprehensive computer science reference implemented in C++/WebAssembly
                    </p>
                    <div class="flex flex-wrap gap-2 animate-fade-in [--animation-delay:600ms]">
                        <Badge variant="outline" className="px-3 py-1">
                            <Code className="mr-2 h-4 w-4" />
                            C++
                        </Badge>
                        <Badge variant="outline" className="px-3 py-1">
                            <Zap className="mr-2 h-4 w-4" />
                            WebAssembly
                        </Badge>
                        <Badge variant="outline" className="px-3 py-1">
                            <BookOpen className="mr-2 h-4 w-4" />
                            Algorithms
                        </Badge>
                        <Badge variant="outline" className="px-3 py-1">
                            <Cpu className="mr-2 h-4 w-4" />
                            Systems
                        </Badge>
                    </div>
                    <div class="mt-4 animate-fade-in [--animation-delay:800ms]">
                        <div class="inline-block rounded border bg-muted px-3 py-2 text-sm text-muted-foreground">
                            <div class="typewriter-container overflow-hidden whitespace-nowrap">
                                <code class="font-mono">{'std::cout << "Hello, Developer!" << std::endl;'}</code>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="absolute right-0 top-0 -z-10 h-full w-full bg-gradient-to-br from-primary/10 via-transparent to-background animate-gradient"></div>
        </section>

        {/* About Section */}
        <section 
            class="space-y-4"
        >
            <div class="">
                <Card className="p-6 space-y-4">
                    <div class="space-y-2">
                        <h2 class="text-2xl font-semibold">About This Project</h2>
                        <p class="text-muted-foreground">
                            This site serves as both a personal revision tool and a public reference for computer science concepts. 
                            Each topic is implemented in C++ and exposed through WebAssembly, providing interactive examples and 
                            practical demonstrations.
                        </p>
                    </div>
                    <div class="flex items-center gap-4">
                        <a 
                            href="https://github.com/mazharmorshed/mazhar-lab" 
                            target="_blank" 
                            rel="noopener noreferrer"
                            class="inline-flex items-center justify-center gap-2 rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90"
                        >
                            <Github className="h-4 w-4" />
                            View on GitHub
                        </a>
                        <a 
                            href="/algorithms" 
                            class="inline-flex items-center justify-center gap-2 rounded-md border border-input bg-background px-4 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground"
                        >
                            Start Learning
                            <ArrowRight className="h-4 w-4" />
                        </a>
                    </div>
                </Card>
            </div>
        </section>

        {/* Main Sections */}
        <section 
            class="space-y-6"
        >
            <div class="flex items-center justify-between">
                <h2 id="topics-title" class="text-2xl font-semibold">Explore Topics</h2>
                <Badge variant="outline" className="px-3">Categories</Badge>
            </div>
            <div class="grid gap-6 md:grid-cols-2">
                <a href="/algorithms" class="block group">
                    <Card className="relative overflow-hidden p-6 space-y-4 hover:shadow-lg transition-all duration-300 hover:-translate-y-1">
                        <div class="space-y-2">
                            <div class="flex items-center gap-3">
                                <div class="relative">
                                    <div class="h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                                        <Code className="h-5 w-5 text-primary group-hover:rotate-12 transition-transform" />
                                    </div>
                                    <Badge className="absolute -top-2 -right-2 px-1 py-0.5 text-[10px]">New</Badge>
                                </div>
                                <h2 class="text-2xl font-semibold group-hover:text-primary transition-colors">Algorithms & Data Structures</h2>
                            </div>
                            <p class="text-muted-foreground">
                                Core algorithms and data structures with explanations and code implementations
                            </p>
                        </div>
                        <ul class="list-none space-y-2">
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Sorting & Searching
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Graph Algorithms
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Dynamic Programming
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Tree Structures
                            </li>
                        </ul>
                        <div class="absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-all group-hover:translate-x-0 translate-x-4">
                            <Badge variant="secondary" className="pointer-events-none">
                                Explore <ArrowRight className="h-4 w-4 ml-1" />
                            </Badge>
                        </div>
                    </Card>
                </a>

                <a class="block group">
                    <Card className="relative overflow-hidden p-6 space-y-4 hover:shadow-lg transition-all duration-300 hover:-translate-y-1">
                        <div class="space-y-2">
                            <div class="flex items-center gap-3">
                                <div class="relative">
                                    <div class="h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                                        <Cpu className="h-5 w-5 text-primary group-hover:rotate-12 transition-transform" />
                                    </div>
                                </div>
                                <h2 class="text-2xl font-semibold group-hover:text-primary transition-colors">Systems & Architecture</h2>
                            </div>
                            <p class="text-muted-foreground">
                                Deep dives into system design and architectural concepts
                            </p>
                        </div>
                        <ul class="list-none space-y-2">
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Build Your Own Redis
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Databases
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Operating System and Network Processes
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Other Development Processes
                            </li>
                        </ul>
                    </Card>
                </a>

                <a class="block group">
                    <Card className="relative overflow-hidden p-6 space-y-4 hover:shadow-lg transition-all duration-300 hover:-translate-y-1">
                        <div class="space-y-2">
                            <div class="flex items-center gap-3">
                                <div class="relative">
                                    <div class="h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                                        <Brain className="h-5 w-5 text-primary group-hover:rotate-12 transition-transform" />
                                    </div>
                                </div>
                                <h2 class="text-2xl font-semibold group-hover:text-primary transition-colors">Math & Machine Learning</h2>
                            </div>
                            <p class="text-muted-foreground">
                                Fundamental AI concepts with C++ implementations
                            </p>
                        </div>
                        <ul class="list-none space-y-2">
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Machine Learning Algorithms
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Statistical Methods
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Neural Networks
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Other Math Concepts
                            </li>
                        </ul>
                    </Card>
                </a>

                <a class="block group">
                    <Card className="relative overflow-hidden p-6 space-y-4 hover:shadow-lg transition-all duration-300 hover:-translate-y-1">
                        <div class="space-y-2">
                            <div class="flex items-center gap-3">
                                <div class="relative">
                                    <div class="h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center group-hover:scale-110 transition-transform">
                                        <Database className="h-5 w-5 text-primary group-hover:rotate-12 transition-transform" />
                                    </div>
                                </div>
                                <h2 class="text-2xl font-semibold group-hover:text-primary transition-colors">Interactive Examples</h2>
                            </div>
                            <p class="text-muted-foreground">
                                Each topic includes:
                            </p>
                        </div>
                        <ul class="list-none space-y-2">
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Conceptual Explanations
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Pseudocode & C++ Implementations
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Interactive WASM Demos
                            </li>
                            <li class="flex items-center gap-2 text-muted-foreground group-hover:text-foreground/70 transition-colors">
                                <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                                Performance Comparisons
                            </li>
                        </ul>
                    </Card>
                </a>
            </div>
        </section>

        {/* Getting Started CTA */}
        <section 
            class="text-center py-8"
        >
            <Card className="relative overflow-hidden p-8 bg-gradient-to-br from-primary to-primary/80 text-primary-foreground group hover:shadow-lg transition-all duration-300">
                <div class="relative z-10">
                    <h2 class="text-2xl font-bold mb-4">Ready to Start Learning?</h2>
                    <p class="mb-6 text-primary-foreground/90">Begin your journey with our algorithms section</p>
                    <a 
                        href="/algorithms" 
                        class="inline-flex items-center justify-center gap-2 rounded-md bg-background px-6 py-3 text-sm font-medium text-primary hover:bg-accent transition-all group-hover:scale-105 duration-300"
                    >
                        Start Learning
                        <ArrowRight className="h-4 w-4 group-hover:translate-x-1 transition-transform" />
                    </a>
                </div>
                <div class="absolute inset-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:14px_24px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)] group-hover:bg-[size:16px_28px] transition-[background-size]"></div>
            </Card>
        </section>


        {/* Tech Stack */}
        <section 
            class="space-y-4"
        >
            <div class="flex items-center justify-between">
                <h2 class="text-2xl font-semibold">Built With</h2>
                <Badge variant="outline" className="px-3">Stack</Badge>
            </div>
            <Card className="p-6">
                <div class="grid gap-4 md:grid-cols-4">
                    {[
                        { name: "Astro", version: "4.x", icon: "🚀", href: "https://astro.build" },
                        { name: "React", version: "18.x", icon: "⚛️", href: "https://react.dev" },
                        { name: "Tailwind CSS", version: "3.x", icon: "🎨", href: "https://tailwindcss.com" },
                        { name: "shadcn/ui", version: "1.x", icon: "🎯", href: "https://ui.shadcn.com" },
                        { name: "Emscripten", version: "3.x", icon: "🔧", href: "https://emscripten.org" },
                        { name: "WebAssembly", version: "2.x", icon: "⚡", href: "https://webassembly.org" },
                        { name: "C++", version: "20", icon: "🔰", href: "https://isocpp.org" },
                        { name: "GitHub Pages", version: "", icon: "🌐", href: "https://pages.github.com" }
                    ].map((tech) => (
                        <a 
                            href={tech.href}
                            target="_blank"
                            rel="noopener noreferrer" 
                            class="flex items-center gap-2 p-2 rounded-md hover:bg-muted transition-all group relative"
                        >
                            <span class="text-xl group-hover:scale-110 transition-transform">{tech.icon}</span>
                            <div>
                                <span class="text-sm font-medium group-hover:text-primary transition-colors">{tech.name}</span>
                                {tech.version && (
                                    <span class="text-xs text-muted-foreground block">{tech.version}</span>
                                )}
                            </div>
                            <div class="absolute inset-0 rounded-md border border-primary/0 group-hover:border-primary/10 transition-colors" />
                        </a>
                    ))}
                </div>
            </Card>
        </section>


    </div>
</PageLayout>

<style>
    @keyframes fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    @keyframes typewriter {
        from { width: 0; }
        to { width: 100%; }
    }

    .animate-fade-in {
        opacity: 0;
        animation: fade-in 0.5s ease-out forwards;
        animation-delay: var(--animation-delay, 0ms);
    }

    .animate-gradient {
        background-size: 200% 200%;
        animation: gradient 15s ease infinite;
    }

    .typewriter-container {
        display: inline-block;
        animation: typewriter 2s steps(40) 1s forwards;
        width: 0;
    }

    /* Focus Styles */
    :focus-visible {
        outline: 2px solid hsl(var(--primary));
        outline-offset: 2px;
    }

    /* Loading State */
    .loading {
        position: relative;
    }

    .loading::after {
        content: "";
        position: absolute;
        inset: 0;
        background: hsl(var(--background));
        opacity: 0.7;
    }

    /* Error State */
    .error {
        border: 1px solid hsl(var(--destructive));
        padding: 1rem;
        border-radius: 0.5rem;
    }

    /* Print Styles */
    @media print {
        .no-print {
            display: none;
        }
    }
</style>